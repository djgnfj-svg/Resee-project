# 콘텐츠 관리

## 핵심 개념

학습할 자료를 **TipTap 리치 에디터**로 작성하고, **AI가 자동으로 품질을 검증**합니다.
검증된 콘텐츠는 자동으로 복습 일정에 등록됩니다.

## 주요 기능

- **리치 텍스트 편집**: TipTap 에디터로 제목, 본문 작성
- **AI 품질 검증** (Claude 3.5 Sonnet):
  - 사실 정확성 (0-100점)
  - 논리적 일관성 (0-100점)
  - 제목 관련성 (0-100점)
  - 모든 항목 70점 이상 → 통과
- **카테고리 분류**: 자료를 주제별로 구분
- **자동 복습 등록**: 검증 통과 시 ReviewSchedule 자동 생성

## 동작 흐름

```
1. 사용자가 제목, 본문 작성
   ↓
2. AI가 콘텐츠 검증 (3가지 항목)
   ↓
3. 검증 실패 → 피드백 제공, 수정 요청
   검증 통과 → 콘텐츠 저장
   ↓
4. Signal 트리거 → ReviewSchedule 생성
   ↓
5. 다음날부터 복습 가능
```

## API

- `GET /api/contents/` - 콘텐츠 목록 (페이지네이션)
- `POST /api/contents/` - 콘텐츠 생성 (AI 검증 포함)
- `GET /api/contents/{id}/` - 콘텐츠 상세
- `PUT /api/contents/{id}/` - 콘텐츠 수정
- `DELETE /api/contents/{id}/` - 콘텐츠 삭제
- `GET /api/categories/` - 카테고리 목록

## 관련 파일

- `backend/content/views.py` - 콘텐츠 CRUD API
- `backend/content/ai_validation.py` - AI 검증 (claude-3-5-sonnet)
- `backend/content/signals.py` - ReviewSchedule 자동 생성
- `frontend/src/pages/CreateContentPage.tsx` - 생성 UI
- `frontend/src/pages/EditContentPage.tsx` - 수정 UI

## 검증 기준

```python
# AI 검증 통과 조건
is_valid = (
    factual_accuracy >= 70 and
    logical_consistency >= 70 and
    title_relevance >= 70
)
```
