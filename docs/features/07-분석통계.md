# 분석 & 통계

## 핵심 개념

학습 데이터를 **시각화**하여 진도와 성과를 한눈에 파악할 수 있습니다.
대시보드에서 핵심 지표를 확인하고, 학습 패턴을 분석합니다.

## 주요 기능

- **대시보드 통계**:
  - 총 콘텐츠 수
  - 오늘의 복습 수
  - 복습 완료율
  - 평균 점수
- **카테고리별 분석**: 주제별 복습 현황
- **학습 진행 상태**: 구독 등급별 진도
- **성과 추적**: 시간별 점수 변화

## 동작 흐름

```
1. 사용자가 대시보드 접속
   ↓
2. 백엔드가 통계 데이터 계산
   - ReviewHistory 집계
   - Content 개수
   - 카테고리별 그룹화
   ↓
3. 프론트엔드가 차트/그래프로 시각화
   ↓
4. 실시간 업데이트 (React Query)
```

## API

- `GET /api/analytics/dashboard/` - 대시보드 통계
- `GET /api/review/category-stats/` - 카테고리별 통계
- `GET /api/review/history/` - 복습 이력 (차트 데이터)

## 관련 파일

- `backend/analytics/views.py` - 통계 API
- `backend/review/views.py` - 카테고리 통계
- `frontend/src/pages/DashboardPage.tsx` - 대시보드 UI
- `frontend/src/components/dashboard/DashboardStats.tsx` - 통계 컴포넌트

## 통계 계산 로직

```python
# 대시보드 통계
stats = {
    'total_contents': Content.objects.filter(author=user).count(),
    'today_reviews': ReviewSchedule.objects.filter(
        user=user,
        next_review_date=today
    ).count(),
    'completion_rate': (completed / total) * 100,
    'avg_score': ReviewHistory.objects.filter(
        user=user
    ).aggregate(Avg('score'))
}
```
