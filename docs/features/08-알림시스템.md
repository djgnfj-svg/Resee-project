# ì•Œë¦¼ ì‹œìŠ¤í…œ

## ğŸ“Œ í•µì‹¬ ê°œë…

**ì´ë©”ì¼ ë¦¬ë§ˆì¸ë”**ë¡œ ë³µìŠµ ì‹œê°„ì„ ìë™ìœ¼ë¡œ ì•Œë ¤ì¤ë‹ˆë‹¤.
ì‚¬ìš©ìê°€ ì„¤ì •í•œ ì‹œê°„ì— Celery Beatê°€ ì´ë©”ì¼ì„ ë°œì†¡í•˜ë©°, ì–¸ì œë“ ì§€ ìˆ˜ì‹  ê±°ë¶€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## âœ¨ ì£¼ìš” ê¸°ëŠ¥

- **ë³µìŠµ ë¦¬ë§ˆì¸ë”**:
  - ì¼ì¼ ì•Œë¦¼ (ì‚¬ìš©ì ì„¤ì • ì‹œê°„)
  - ì €ë… ì•Œë¦¼ (ì„ íƒì )
- **ê°œì¸í™”ëœ ì´ë©”ì¼**:
  - ë³µìŠµ ê°œìˆ˜
  - ì˜¤ëŠ˜ì˜ ë³µìŠµ ëª©ë¡
- **ìˆ˜ì‹  ì„¤ì •**:
  - ì•Œë¦¼ on/off ì„¤ì •
  - ì•ˆì „í•œ ìˆ˜ì‹  ê±°ë¶€ ë§í¬ (64ì í† í°)
- **ìë™ ë°œì†¡**: Celery Beat ìŠ¤ì¼€ì¤„ëŸ¬

## ğŸ”„ ë™ì‘ íë¦„

```
1. Celery Beatê°€ ì„¤ì •ëœ ì‹œê°„ì— ì‘ì—… ì‹¤í–‰
   â†“
2. ì˜¤ëŠ˜ ë³µìŠµì´ ìˆê³  ì•Œë¦¼ í™œì„±í™”ëœ ì‚¬ìš©ì ì¡°íšŒ
   â†“
3. ì‚¬ìš©ìë³„ ë³µìŠµ ëª©ë¡ ìƒì„±
   â†“
4. ì´ë©”ì¼ ë°œì†¡ (Gmail SMTP)
   â†“
5. ìˆ˜ì‹  ê±°ë¶€ ë§í¬ í¬í•¨
```

## ğŸ”— API

- `GET /api/accounts/notification-preferences/` - ì•Œë¦¼ ì„¤ì • ì¡°íšŒ
- `PUT /api/accounts/notification-preferences/` - ì•Œë¦¼ ì„¤ì • ë³€ê²½
- `POST /api/accounts/unsubscribe/` - ìˆ˜ì‹  ê±°ë¶€ (í† í°)

## ğŸ“ ê´€ë ¨ íŒŒì¼

- `backend/review/tasks.py` - Celery ì´ë©”ì¼ ì‘ì—…
- `backend/accounts/models.py` - NotificationPreference ëª¨ë¸
- `backend/accounts/email/email_service.py` - ì´ë©”ì¼ ë°œì†¡
- `backend/resee/celery.py` - Celery Beat ìŠ¤ì¼€ì¤„ ì„¤ì •

## ğŸ’¡ ìŠ¤ì¼€ì¤„ ì„¤ì •

```python
# Celery Beat ìŠ¤ì¼€ì¤„
CELERY_BEAT_SCHEDULE = {
    'send-review-reminders': {
        'task': 'review.tasks.send_review_reminders',
        'schedule': crontab(hour=9, minute=0),  # ë§¤ì¼ ì˜¤ì „ 9ì‹œ
    }
}
```

## âš™ï¸ í™˜ê²½ ë³€ìˆ˜

```bash
# .env
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USE_TLS=True
EMAIL_HOST_USER=your-email@gmail.com
EMAIL_HOST_PASSWORD=your-app-password
```
