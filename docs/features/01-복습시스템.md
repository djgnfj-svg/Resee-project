# 복습 시스템

## 📌 핵심 개념

Ebbinghaus 망각곡선 이론에 기반한 **간격 반복 학습 시스템**입니다.
구독 등급에 따라 최적의 복습 간격을 자동으로 계산하여 장기 기억으로 전환합니다.

## ✨ 주요 기능

- **자동 스케줄링**: 콘텐츠 생성 시 다음날 복습 일정 자동 생성
- **등급별 복습 간격**:
  - FREE: 1일, 3일 (2단계)
  - BASIC: 1, 3, 7, 14, 30, 60, 90일 (7단계)
  - PRO: 1, 3, 7, 14, 30, 60, 120, 180일 (8단계)
- **AI 답안 평가**: Claude API로 주관식 답안 자동 채점 (0-100점)
- **진도 추적**: 70점 이상 "기억함", 미만 "잊음" 자동 판정

## 🔄 동작 흐름

```
1. 사용자가 콘텐츠 생성
   ↓
2. Signal 트리거 → ReviewSchedule 자동 생성 (다음날 복습)
   ↓
3. 사용자가 복습 제출 (주관식 답안)
   ↓
4. AI가 답안 평가 (0-100점, 피드백)
   ↓
5. 다음 복습일 계산 (interval_index++)
   ↓
6. ReviewHistory 저장
```

## 🔗 API

- `GET /api/review/today/` - 오늘의 복습 목록
- `POST /api/review/complete/` - 복습 제출 (AI 평가)
- `GET /api/review/schedules/` - 복습 일정 조회
- `GET /api/review/history/` - 복습 기록

## 📁 관련 파일

- `backend/review/utils.py` - Ebbinghaus 간격 계산 알고리즘
- `backend/review/ai_evaluation.py` - AI 답안 평가 (claude-3-haiku)
- `backend/review/views.py` - 복습 API
- `backend/content/signals.py` - ReviewSchedule 자동 생성
- `frontend/src/pages/ReviewPage.tsx` - 복습 UI

## 💡 핵심 로직

```python
# 구독 등급별 복습 간격 (일 단위)
INTERVALS = {
    'FREE': [1, 3],
    'BASIC': [1, 3, 7, 14, 30, 60, 90],
    'PRO': [1, 3, 7, 14, 30, 60, 120, 180]
}

# 다음 복습일 계산
next_date = current_date + timedelta(days=intervals[interval_index])
```
